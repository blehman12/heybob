<!-- app/views/invitation_mailer/event_invitation.html.erb -->
<!DOCTYPE html>
<html>
<head>
  <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  <style>
    body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
    .container { max-width: 600px; margin: 0 auto; padding: 20px; }
    .header { background: #007bff; color: white; padding: 20px; text-align: center; }
    .content { padding: 20px; background: #f8f9fa; }
    .event-details { background: white; padding: 15px; margin: 15px 0; border-left: 4px solid #007bff; }
    .detail-row { margin: 10px 0; }
    .detail-label { font-weight: bold; color: #666; }
    .button { display: inline-block; padding: 12px 30px; background: #28a745; color: white; 
              text-decoration: none; border-radius: 5px; margin: 15px 0; }
    .button:hover { background: #218838; }
    .footer { text-align: center; padding: 20px; color: #666; font-size: 14px; }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>You're Invited!</h1>
    </div>
    
    <div class="content">
      <p>Hi <%= @user.first_name %>,</p>
      
      <p>You've been invited to attend:</p>
      
      <div class="event-details">
        <h2 style="margin-top: 0; color: #007bff;"><%= @event.name %></h2>
        
        <div class="detail-row">
          <span class="detail-label">üìÖ Date:</span>
          <%= @event.event_date.strftime('%A, %B %d, %Y') %>
        </div>
        
        <% if @event.start_time %>
          <div class="detail-row">
            <span class="detail-label">üïê Time:</span>
            <%= @event.start_time.strftime('%I:%M %p') %>
            <% if @event.end_time %>
              - <%= @event.end_time.strftime('%I:%M %p') %>
            <% end %>
          </div>
        <% end %>
        
        <% if @venue %>
          <div class="detail-row">
            <span class="detail-label">üìç Location:</span>
            <%= @venue.name %><br/>
            <span style="color: #666; margin-left: 24px;"><%= @venue.address %></span>
          </div>
        <% end %>
        
        <% if @event.description.present? %>
          <div class="detail-row">
            <span class="detail-label">‚ÑπÔ∏è About:</span><br/>
            <%= simple_format(@event.description) %>
          </div>
        <% end %>
        
        <div class="detail-row">
          <span class="detail-label">üë• Capacity:</span>
          <%= @event.max_attendees %> attendees
          <% if @event.spots_remaining < 10 %>
            (<strong><%= @event.spots_remaining %> spots remaining!</strong>)
          <% end %>
        </div>
        
        <% if @event.rsvp_deadline %>
          <div class="detail-row">
            <span class="detail-label">‚è∞ RSVP by:</span>
            <%= @event.rsvp_deadline.strftime('%B %d, %Y at %I:%M %p') %>
          </div>
        <% end %>
      </div>
      
      <div style="text-align: center;">
        <a href="<%= @rsvp_url %>" class="button">
          Respond to Invitation
        </a>
      </div>
      
      <p style="text-align: center; color: #666; font-size: 14px;">
        Can't attend? Let us know by clicking the link above and selecting "No"
      </p>
      
      <% if @calendar_export_url %>
        <p style="text-align: center;">
          <a href="<%= @calendar_export_url %>" style="color: #007bff;">Add to Calendar</a>
        </p>
      <% end %>
    </div>
    
    <div class="footer">
      <p>
        This invitation was sent to <%= @user.email %><br/>
        If you have questions, please contact the event organizer.
      </p>
    </div>
  </div>
</body>
</html>
